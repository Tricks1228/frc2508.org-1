<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title><%= yield_content :title %> Â» Armada Robotics</title>
  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://developer.api.autodesk.com/modelderivative/v2/viewers/2.*/style.min.css" type="text/css">

  <%= stylesheet_link_tag config[:theme], "main", "old" %>
  <meta name="google-site-verification" content="6AA5xLhIme9sFY9VNKZKcM5rJ_OsB96Q9FyPh2ZooIs" />
</head>
<body>

  <!-- Developer JS -->
  <script>
      var viewer;
      var options = {
          env: 'AutodeskProduction',
          accessToken: '<YOUR_APPLICATION_TOKEN>'
      };
      var documentId = 'urn:<YOUR_URN_ID>';
      Autodesk.Viewing.Initializer(options, function onInitialized(){
          Autodesk.Viewing.Document.load(documentId, onDocumentLoadSuccess, onDocumentLoadFailure);
      });

      /**
      * Autodesk.Viewing.Document.load() success callback.
      * Proceeds with model initialization.
      */
      function onDocumentLoadSuccess(doc) {

          // A document contains references to 3D and 2D viewables.
          var viewables = Autodesk.Viewing.Document.getSubItemsWithProperties(doc.getRootItem(), {'type':'geometry'}, true);
          if (viewables.length === 0) {
              console.error('Document contains no viewables.');
              return;
          }

          // Choose any of the avialble viewables
          var initialViewable = viewables[0];
          var svfUrl = doc.getViewablePath(initialViewable);
          var modelOptions = {
              sharedPropertyDbPath: doc.getPropertyDbPath()
          };

          var viewerDiv = document.getElementById('MyViewerDiv');
          viewer = new Autodesk.Viewing.Private.GuiViewer3D(viewerDiv);
          viewer.start(svfUrl, modelOptions, onLoadModelSuccess, onLoadModelError);
      }

      /**
       * Autodesk.Viewing.Document.load() failuire callback.
       */
      function onDocumentLoadFailure(viewerErrorCode) {
          console.error('onDocumentLoadFailure() - errorCode:' + viewerErrorCode);
      }

      /**
       * viewer.loadModel() success callback.
       * Invoked after the model's SVF has been initially loaded.
       * It may trigger before any geometry has been downloaded and displayed on-screen.
       */
      function onLoadModelSuccess(model) {
          console.log('onLoadModelSuccess()!');
          console.log('Validate model loaded: ' + (viewer.model === model));
          console.log(model);
      }

      /**
       * viewer.loadModel() failure callback.
       * Invoked when there's an error fetching the SVF file.
       */
      function onLoadModelError(viewerErrorCode) {
          console.error('onLoadModelError() - errorCode:' + viewerErrorCode);
      }

  </script>

  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <a href="/" class="navbar-brand">
          Armada Robotics
        </a>
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

      <div id="navbar-main" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li <%= "class='active'" if current_page.path == "about.html" %>>
            <a href="/about">About</a>
          </li>
          <li <%= "class='active'" if current_page.path == "robots.html" %>>
            <a href="/robots">Robots</a>
          </li>
          <li <%= "class='active'" if current_page.path == "teams.html" %>>
            <a href="/teams">Teams</a>
          </li>
          <li <%= "class='active'" if current_page.path == "resources.html" %>>
            <a href="/resources">Resources</a>
          </li>
          <li <%= "class='active'" if current_page.path == "sponsors.html" %>>
            <a href="/sponsors">Sponsors</a>
          </li>
          <li <%= "class='active'" if current_page.path == "donate.html" %>>
            <a href="/donate">Donate</a>
          </li>
          
          

        </ul>

        <ul class="nav navbar-nav navbar-right">
          <li class="first">
            <a href="https://www.firstinspires.org/robotics/frc" target="_blank">
              <%= image_tag "first-logo.gif" %>
            </a>
          </li>
        </ul>

      </div>
    </div>
  </div>

  <div class="container">
    <%= yield %>
  </div>

  <br />
  <br />
  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-6">
          <p>
            &copy; 2007-<%= Time.now.year %> <a href="/"><b>Armada Robotics</b></a>
          </p>
          <p>
            Maintained by the <a href="https://github.com/Armada2508">FRC2508 development team</a> (<%= Time.now.getlocal('-06:00').strftime('%b %d, %Y') %>).
          </p>
        </div>
        <div class="col-lg-6">
          <a target="_blank" href="https://www.firstinspires.org/robotics/frc" class="pull-right">
            <img src="/assets/images/brands/frc.png" style="width: 80px" />
          </a>
          <a target="_blank" href="http://www.stillwater.k12.mn.us" class="pull-right" style="margin-right: 30px">
            <img src="/assets/images/brands/pony-pride.png" style="width: 50px" />
          </a>
        </div>
      </div>
    </div>
  </footer>
  
  <%= javascript_include_tag  "all" %>
  <!-- Google+ Button Script -->
<script src="https://apis.google.com/js/platform.js" async defer></script>

</body>

</html>
